
  /*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var k,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}return function(){throw Error("Cannot find global object");}()}var ca=ba(this);"function"===typeof Symbol&&Symbol("x");
function da(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}function fa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}
da("Symbol",function(a){function b(e){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(e||"")+"_"+d++,e)}function c(e,f){this.g=e;aa(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d=0;return b});
da("Symbol.iterator",function(a){if(a)return a;var b=Symbol("Symbol.iterator"),c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" ");for(a=0;a<c.length;a++){var d=ca[c[a]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&aa(d.prototype,b,{configurable:!0,writable:!0,value:function(){return ha(fa(this))}})}return b});function ha(a){var b={next:a};b[Symbol.iterator]=function(){return this};return b}
function ia(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var f=c++;return{value:b(f,a[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}da("Array.prototype.entries",function(a){return a?a:function(){return ia(this,function(b,c){return[b,c]})}});da("Array.prototype.keys",function(a){return a?a:function(){return ia(this,function(b){return b})}});var COMPILED=!0,goog=goog||{},m=this||self;
function ja(){if(null===ka)a:{var a=m.document;if((a=a.querySelector&&a.querySelector("script[nonce]"))&&(a=a.nonce||a.getAttribute("nonce"))&&la.test(a)){ka=a;break a}ka=""}return ka}var la=/^[\w+/_-]+[=]{0,2}$/,ka=null,r=null;if(!COMPILED)var pa=function(a){return a in ma||!na[a]&&null!=oa(a)},na={"goog.module":!0};function oa(a){a=a.split(".");for(var b=m,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b}function u(a){m.console&&m.console.error(a)}
function qa(a){if(!COMPILED)if(ra.requested(a),pa(a)){var b;(b=!!r&&"goog"==r.type)||(b=r&&"es6"==r.type?!0:(b=m.$jscomp)?"function"!=typeof b.getCurrentModulePath?!1:!!b.getCurrentModulePath():!1);b&&(COMPILED||a in ma||na[a]||oa(a))}else{var c=r;r=null;try{ra.ea(a)}finally{r=c}}}var sa="";function v(){}var ma={},ta=!COMPILED&&!0;function va(a){var b=a.split("/");for(a=0;a<b.length;)"."==b[a]?b.splice(a,1):a&&".."==b[a]&&b[a-1]&&".."!=b[a-1]?b.splice(--a,2):a++;return b.join("/")}
function wa(a){if(m.i)return m.i(a);try{var b=new m.XMLHttpRequest;b.open("get",a,!1);b.send();return 0==b.status||200==b.status?b.responseText:null}catch(c){return null}}
function xa(a,b,c){var d=m.$jscomp;d||(m.$jscomp=d={});var e=d.transpile;if(!e){var f=sa+"transpile.js",l=wa(f);if(l){(function(){(0,eval)(l+"\n//# sourceURL="+f)}).call(m);if(m.$gwtExport&&m.$gwtExport.$jscomp&&!m.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(m.$gwtExport));m.$jscomp.transpile=m.$gwtExport.$jscomp.transpile;d=m.$jscomp;e=d.transpile}}e||(e=d.transpile=function(n,p){u(p+" requires transpilation but no transpiler was found.");
return n});return e(a,b,c)}function x(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ya(a){return Object.prototype.hasOwnProperty.call(a,y)&&a[y]||(a[y]=++za)}function Aa(a){null!==a&&"removeAttribute"in a&&a.removeAttribute(y);try{delete a[y]}catch(b){}}var y="closure_uid_"+(1E9*Math.random()>>>0),za=0;function Ba(a,b,c){return a.call.apply(a.bind,arguments)}
function Ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function z(a,b,c){Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?z=Ba:z=Ca;return z.apply(null,arguments)}
function Da(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function Ea(a){(0,eval)(a)}function A(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var l=Array(arguments.length-2),n=2;n<arguments.length;n++)l[n-2]=arguments[n];return b.prototype[e].apply(d,l)}}COMPILED||(m.COMPILED=COMPILED);
if(!COMPILED&&ta){var Fa=function(){return!!(m.navigator&&m.navigator.userAgent?m.navigator.userAgent:"").match(/Edge\/(\d+)(\.\d)*/i)},B=function(){var a=m.document;return null!=a&&"write"in a},Ga=function(){var a=m.document;return a.attachEvent?"complete"!=a.readyState:"loading"==a.readyState};(function(){if(void 0!=m.h&&"string"===typeof m.h)sa=m.h;else if(B()){var a=m.document,b=a.currentScript,c=b?[b]:a.getElementsByTagName("SCRIPT");for(a=c.length-1;0<=a;--a){var d=c[a].src,e=d.lastIndexOf("?"),
f=-1==e?d.length:e;if("base.js"==d.substr(f-7,7)){sa=d.substr(0,f-7);break}}}})();var Ha=function(){this.g=null;this.h=""};Ha.prototype.i=function(){function a(f,l){e?d[f]=!0:l()?(c=f,d[f]=!1):e=d[f]=!0}function b(f){try{return!!eval(f)}catch(l){return!1}}var c="es3",d={es3:!1},e=!1;a("es5",function(){return b("[1,].length==1")});a("es6",function(){return Fa()?!1:b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')});
a("es7",function(){return b("2**3==8")});a("es8",function(){return b("async()=>1,1")});a("es9",function(){return b("({...rest}={}),1")});a("es_2019",function(){return b('let r;try{throw 0}catch{r="\u2029"};r')});a("es_2020",function(){return b("null?.x??1")});a("es_next",function(){return!1});return{target:c,map:d}};Ha.prototype.j=function(a,b){if(!this.g){var c=this.i();this.g=c.map;this.h=this.h||c.target}if(a in this.g)return this.g[a]?!0:!B()||"es6"!=b||"noModule"in m.document.createElement("script")?
!1:!0;throw Error("Unknown language mode: "+a);};Ha.prototype.transpile=function(a,b){return xa(a,b,this.h)};var Ia=new Ha,Ka=function(){this.j={};this.o={};this.u={};this.i=[];this.h=[];this.l=!1;this.s=new Ja;this.m={};this.g=[]};k=Ka.prototype;k.bootstrap=function(a,b){function c(){d&&(m.setTimeout(d,0),d=null)}var d=b;if(a.length){var e=[];for(b=0;b<a.length;b++){var f=this.K(a[b]);if(!f)throw Error("Unregonized namespace: "+a[b]);e.push(this.j[f])}var l=0;for(b=0;b<a.length;b++)qa(a[b]),e[b].onLoad(function(){++l==
a.length&&c()})}else c()};k.loadClosureDeps=function(){this.h.push(this.s.h(va(sa+"deps.js"),"deps.js",[],[],{},!1));this.O()};k.requested=function(a,b){var c=this.K(a);c&&(b||this.T(this.j[c].i))&&(b=this.m[c])&&(delete this.m[c],b())};k.setDependencyFactory=function(a){this.s=a};k.ea=function(a){if(this.K(a)){var b=this,c=[],d=function(f){var l=b.K(f);if(!l)throw Error("Bad dependency path or symbol: "+f);if(!b.u[l]){b.u[l]=!0;var n=b.j[l];for(f=0;f<n.i.length;f++)pa(n.i[f])||d(n.i[f]);c.push(n)}};
d(a);var e=!!this.h.length;this.h=this.h.concat(c);this.l||e||this.O()}else u("goog.require could not find: "+a)};k.O=function(){for(var a=this,b=this.l;this.h.length&&!b;)(function(){var c=!1,d=a.h.shift(),e=!1;a.fa(d);var f={pause:function(){if(c)throw Error("Cannot call pause after the call to load.");b=!0},resume:function(){c?a.ia():b=!1},loaded:function(){if(e)throw Error("Double call to loaded.");e=!0;a.X(d)},pending:function(){for(var l=[],n=0;n<a.i.length;n++)l.push(a.i[n]);return l},setModuleState:function(l){r=
{type:l,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(l,n,p){p&&(ma[p]={exports:n,type:"es6",moduleId:p||""})},registerGoogModuleExports:function(l,n){ma[l]={exports:n,type:"goog",moduleId:l}},clearModuleState:function(){r=null},defer:function(l){if(c)throw Error("Cannot register with defer after the call to load.");a.ba(d,l)},areDepsLoaded:function(){return a.T(d.i)}};try{d.load(f)}finally{c=!0}})();b&&this.ha()};k.ha=function(){this.l=!0};k.ia=function(){this.l&&(this.l=
!1,this.O())};k.fa=function(a){this.i.push(a)};k.X=function(a){for(var b=0;b<this.i.length;b++)if(this.i[b]==a){this.i.splice(b,1);break}for(b=0;b<this.g.length;b++)if(this.g[b]==a.g){this.g.splice(b,1);break}if(this.i.length==this.g.length&&!this.h.length)for(;this.g.length;)this.requested(this.g.shift(),!0);a.loaded()};k.T=function(a){for(var b=0;b<a.length;b++){var c=this.K(a[b]);if(!c||!(c in this.m||pa(a[b])))return!1}return!0};k.K=function(a){return a in this.o?this.o[a]:a in this.j?a:null};
k.ba=function(a,b){this.m[a.g]=b;this.g.push(a.g)};var C=function(a,b,c,d,e){this.g=a;this.v=b;this.B=c;this.i=d;this.u=e;this.m=!1;this.l=[]};C.prototype.j=function(){var a=this.g,b=a.indexOf("://");if(0<=b){a=a.substring(b+3);var c=a.indexOf("/");0<=c&&(a=a.substring(c+1))}return a};C.prototype.onLoad=function(a){this.m?a():this.l.push(a)};C.prototype.loaded=function(){this.m=!0;var a=this.l;this.l=[];for(var b=0;b<a.length;b++)a[b]()};var D=!1,La={},Ma=function(a){var b=Math.random().toString(32);
La[b]=a;return b},Na=function(a){delete La[a]};C.prototype.load=function(a){if(m.g)m.g(this.g)?a.loaded():a.pause();else if(B()){var b=m.document;if("complete"==b.readyState){if(/\bdeps.js$/.test(this.g)){a.loaded();return}throw Error('Cannot write "'+this.g+'" after document load');}var c=ja();if(Ga()){var d=function(n){n.readyState&&"complete"!=n.readyState?n.onload=d:(Na(e),a.loaded())};var e=Ma(d);var f=c?' nonce="'+c+'"':"";c='<script src="'+this.g+'"'+f+(D?" defer":"")+' id="script-'+e+'">\x3c/script>';
c+="<script"+f+">";c=D?c+("document.getElementById('script-"+e+"').onload = function() {\n  goog.Dependency.callback_('"+e+"', this);\n};\n"):c+("goog.Dependency.callback_('"+e+"', document.getElementById('script-"+e+"'));");c+="\x3c/script>";b.write(F?F.createHTML(c):c)}else{var l=b.createElement("script");l.defer=D;l.async=!1;c&&(l.nonce=c);Oa?(a.pause(),l.onreadystatechange=function(){if("loaded"==l.readyState||"complete"==l.readyState)a.loaded(),a.resume()}):l.onload=function(){l.onload=null;
a.loaded()};l.src=F?F.createScriptURL(this.g):this.g;b.head.appendChild(l)}}else u("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.v?(u("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true."),a.loaded()):a.pause()};var Pa=function(a,b,c,d,e){C.call(this,a,b,c,d,e)};A(Pa,C);Pa.prototype.load=function(a){function b(q,w){var t="",E=ja();E&&(t=' nonce="'+E+'"');q=w?'<script type="module" crossorigin'+t+">"+w+"\x3c/script>":'<script type="module" crossorigin src="'+
q+'"'+t+">\x3c/script>";d.write(F?F.createHTML(q):q)}function c(q,w){var t=d.createElement("script");t.defer=!0;t.async=!1;t.type="module";t.setAttribute("crossorigin",!0);var E=ja();E&&(t.nonce=E);w?t.text=F?F.createScript(w):w:t.src=F?F.createScriptURL(q):q;d.head.appendChild(t)}if(m.g)m.g(this.g)?a.loaded():a.pause();else if(B()){var d=m.document,e=this;if(Ga()){var f=b;D=!0}else f=c;var l=Ma(function(){Na(l);a.setModuleState("es6")});f(void 0,'goog.Dependency.callback_("'+l+'")');f(this.g,void 0);
var n=Ma(function(q){Na(n);a.registerEs6ModuleExports(e.g,q,r.moduleName)});f(void 0,'import * as m from "'+this.g+'"; goog.Dependency.callback_("'+n+'", m)');var p=Ma(function(){Na(p);a.clearModuleState();a.loaded()});f(void 0,'goog.Dependency.callback_("'+p+'")')}else u("Cannot use default debug loader outside of HTML documents."),a.pause()};var G=function(a,b,c,d,e){C.call(this,a,b,c,d,e);this.h=null;this.o=!B()||!("noModule"in m.document.createElement("script"))};A(G,C);G.prototype.load=function(a){function b(){e.h=
wa(e.g);e.h&&(e.h=e.transform(e.h),e.h&&(e.h+="\n//# sourceURL="+e.g))}function c(){e.o&&b();if(e.h){f&&a.setModuleState("es6");try{var E=e.h;e.h=null;Ea(E);if(f)var ua=r.moduleName}finally{f&&a.clearModuleState()}f&&m.$jscomp.require.ensure([e.j()],function(){a.registerEs6ModuleExports(e.g,m.$jscomp.require(e.j()),ua)});a.loaded()}}function d(){var E=m.document,ua=Ma(function(){Na(ua);c()}),ea=ja();ea="<script"+(ea?' nonce="'+ea+'"':"")+">"+('goog.Dependency.callback_("'+ua+'");').replace(/<\/(SCRIPT)/ig,
"\\x3c/$1")+"\x3c/script>";E.write(F?F.createHTML(ea):ea)}var e=this;if(m.g)b(),this.h&&m.g("",this.h)?(this.h=null,a.loaded()):a.pause();else{var f="es6"==this.u.module;this.o||b();var l=1<a.pending().length,n=l&&Oa,p=D&&(l||Ga());if(n||p)a.defer(function(){c()});else{var q=m.document,w=B()&&("ActiveXObject"in m||Fa());if(f&&B()&&Ga()&&!w){D=!0;a.pause();var t=q.onreadystatechange;q.onreadystatechange=function(){"interactive"==q.readyState&&(q.onreadystatechange=t,c(),a.resume());"function"===typeof t&&
t.apply(void 0,arguments)}}else!Oa&&B()&&Ga()?d():c()}}};var Qa=function(a,b,c,d,e,f){G.call(this,a,b,c,d,e);this.s=f};A(Qa,G);Qa.prototype.transform=function(a){return this.s.transpile(a,this.j())};var Ra=function(a,b,c,d,e,f,l){G.call(this,a,b,c,d,e);this.s=f;this.A=l};A(Ra,G);Ra.prototype.transform=function(a){this.s&&(a=this.A.transpile(a,this.j()));return void 0===m.JSON?'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+this.g+"\n":"goog.loadModule("+
m.JSON.stringify(a+"\n//# sourceURL="+this.g+"\n")+");"};var Oa=!(m.atob||!m.document||!m.document.all);Ka.prototype.v=function(a,b,c,d){b=b||[];a=a.replace(/\\/g,"/");var e=va(sa+a);d&&"boolean"!==typeof d||(d=d?{module:"goog"}:{});c=this.s.h(e,a,b,c,d,Ia.j(d.lang||"es3",d.module));this.j[e]=c;for(c=0;c<b.length;c++)this.o[b[c]]=e;this.o[a]=e};var Ja=function(){this.g=Ia};Ja.prototype.h=function(a,b,c,d,e,f){return"goog"==e.module?new Ra(a,b,c,d,e,f,this.g):f?new Qa(a,b,c,d,e,this.g):"es6"==e.module?
new Pa(a,b,c,d,e):new C(a,b,c,d,e)};var ra=new Ka,F=Sa("goog#base");m.j||ra.loadClosureDeps()}function Ta(a){return a}function Sa(a){var b=null,c=m.trustedTypes;if(!c||!c.createPolicy)return b;try{b=c.createPolicy(a,{createHTML:Ta,createScript:Ta,createScriptURL:Ta})}catch(d){u(d.message)}return b}if(!COMPILED){var isChrome87=!1;try{isChrome87=eval(m.trustedTypes.emptyScript)!==m.trustedTypes.emptyScript}catch(a){}m.trustedTypes&&isChrome87&&Sa("goog#base#devonly#eval")};function Ua(a){COMPILED?a.prototype.$goog_Thenable=!0:a.prototype.W=!0}function Va(a){if(!a)return!1;try{return COMPILED?!!a.$goog_Thenable:!!a.W}catch(b){return!1}};function H(a){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a));this.g=!0}A(H,Error);H.prototype.name="CustomError";function Wa(a,b){for(var c=H.call,d=a.split("%s"),e="",f=d.length-1,l=0;l<f;l++)e+=d[l]+(l<b.length?b[l]:"%s");c.call(H,this,e+d[f]);this.h=a}A(Wa,H);Wa.prototype.name="AssertionError";function Xa(a,b){throw new Wa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Ya(a,b){this.i=a;this.j=b;this.g=0;this.h=null}Ya.prototype.get=function(){if(0<this.g){this.g--;var a=this.h;this.h=a.next;a.next=null}else a=this.i();return a};function Za(a,b){a.j(b);100>a.g&&(a.g++,b.next=a.h,a.h=b)}Ya.prototype.l=function(){return this.g};function $a(){this.h=this.g=null}$a.prototype.add=function(a,b){var c=ab.get();c.set(a,b);this.h?this.h.next=c:this.g=c;this.h=c};function bb(){var a=cb,b=null;a.g&&(b=a.g,a.g=a.g.next,a.g||(a.h=null),b.next=null);return b}$a.prototype.i=function(a){Za(ab,a)};var ab=new Ya(function(){return new db},function(a){return a.reset()});function db(){this.next=this.g=this.h=null}db.prototype.set=function(a,b){this.h=a;this.g=b;this.next=null};db.prototype.reset=function(){this.next=this.g=this.h=null};var eb=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},fb=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e="string"===typeof a?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},gb=Array.prototype.some?
function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};var hb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};
function ib(a){for(var b=0,c=hb(String(jb)).split("."),d=hb(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",n=d[f]||"";do{var p=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],q=/(\d*)(\D*)(.*)/.exec(n)||["","","",""];if(0==p[0].length&&0==q[0].length)break;var w=0==p[1].length?0:parseInt(p[1],10),t=0==q[1].length?0:parseInt(q[1],10);b=kb(w,t)||kb(0==p[2].length,0==q[2].length)||kb(p[2],q[2]);l=p[3];n=q[3]}while(0==b)}return b}function kb(a,b){return a<b?-1:a>b?1:0};var I=function(){var a=m.navigator;return a&&(a=a.userAgent)?a:""}();function J(a){return-1!=I.indexOf(a)}function lb(a){var b=I.toLowerCase();a=a.toLowerCase();return-1!=b.indexOf(a)};function mb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function nb(a,b,c){var d={},e;for(e in a)d[e]=b.call(c,a[e],e,a);return d}function ob(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function qb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<pb.length;f++)c=pb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function rb(a){this.g=sb===sb&&a||""}rb.prototype.implementsGoogStringTypedString=!0;rb.prototype.getTypedStringValue=function(){return this.g};rb.prototype.toString=function(){return"Const{"+this.g+"}"};var sb={};(function(a){return new rb(a)})("");function tb(a){this.g=ub===ub?a:""}k=tb.prototype;k.implementsGoogStringTypedString=!0;k.getTypedStringValue=function(){return this.g.toString()};k.implementsGoogI18nBidiDirectionalString=!0;k.getDirection=function(){return 1};k.toString=function(){return this.g.toString()};var ub={};new tb("about:invalid#zClosurez");new tb("about:blank");function vb(a){this.g=wb===wb?a:""}vb.prototype.implementsGoogStringTypedString=!0;vb.prototype.getTypedStringValue=function(){return this.g};vb.prototype.toString=function(){return this.g.toString()};var wb={};(function(a){return new vb(a)})("");var xb={};function yb(a){this.g=xb===xb?a:"";this.implementsGoogStringTypedString=!0}yb.prototype.getTypedStringValue=function(){return this.g};yb.prototype.toString=function(){return this.g.toString()};(function(a){return new yb(a)})("");function zb(a,b,c){this.g=c===Ab?a:"";this.h=b}k=zb.prototype;k.implementsGoogI18nBidiDirectionalString=!0;k.getDirection=function(){return this.h};k.implementsGoogStringTypedString=!0;k.getTypedStringValue=function(){return this.g.toString()};k.toString=function(){return this.g.toString()};var Ab={},K=new zb(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ab);(function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}})(function(){if("undefined"===typeof document)return!1;var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);if(!a.firstChild)return!1;var c=a.firstChild.firstChild;if(K instanceof zb&&K.constructor===zb)var d=K.g;else d=typeof K,d="object"!=d?d:K?Array.isArray(K)?"array":d:"null",Xa("expected object of type SafeHtml, got '"+K+"' of type "+d),d="type_error:SafeHtml";
a.innerHTML=d;return!c.parentElement});function Bb(){return J("iPhone")&&!J("iPod")&&!J("iPad")};function Cb(a){Cb[" "](a);return a}Cb[" "]=v;function Db(a,b){var c=Eb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Fb=function(){return J("Opera")}(),L=J("Trident")||J("MSIE"),Gb=J("Edge"),Hb=function(){return J("Gecko")&&!(lb("WebKit")&&!J("Edge"))&&!(J("Trident")||J("MSIE"))&&!J("Edge")}(),Ib=lb("WebKit")&&!J("Edge");(function(){return Ib&&J("Mobile")})();(function(){var a=m.navigator||null;return a&&a.platform||""})();var Jb=function(){return J("Macintosh")}();(function(){return J("Windows")})();(function(){return J("Linux")||J("CrOS")})();
(function(){var a=m.navigator||null;return!!a&&-1!=(a.appVersion||"").indexOf("X11")})();(function(){return J("Android")})();Bb();J("iPad");J("iPod");(function(){return Bb()||J("iPad")||J("iPod")})();(function(){return lb("KaiOS")})();function Kb(){if(Hb)return/rv:([^\);]+)(\)|;)/.exec(I);if(Gb)return/Edge\/([\d\.]+)/.exec(I);if(L)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(I);if(Ib)return/WebKit\/(\S+)/.exec(I);if(Fb)return/(?:Version)[ \/]?(\S+)/.exec(I)}
function Lb(){var a=m.document;return a?a.documentMode:void 0}var jb=function(){var a="",b=Kb();b&&(a=b?b[1]:"");if(L){var c=Lb();if(null!=c&&c>parseFloat(a))return String(c)}return a}(),Eb={};function M(a){return Db(a,function(){return 0<=ib(a)})}var Mb=function(){if(m.document&&L){var a=Lb();return a?a:parseInt(jb,10)||void 0}}();(function(a){try{return!!(new self.OffscreenCanvas(0,0)).getContext(a)}catch(b){}return!1})("2d");!Hb&&!L||L&&9<=Number(Mb)||Hb&&M("1.9.1");L&&M("9");function Nb(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};var Ob;
function Pb(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!J("Presto")&&(a=function(){var e=Nb();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var l="callImmediate"+Math.random(),n="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host,p=z(function(q){if(("*"==n||q.origin==n)&&q.data==l)this.port1.onmessage()},this);f.addEventListener("message",p,
!1);this.port1={};this.port2={postMessage:function(){f.postMessage(l,n)}}});if("undefined"!==typeof a&&!J("Trident")&&!J("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.cb;c.cb=null;e()}};return function(e){d.next={cb:e};d=d.next;b.port2.postMessage(0)}}return function(e){m.setTimeout(e,0)}};function Qb(a){m.setTimeout(function(){throw a;},0)};function Rb(a,b){Sb||Tb();Ub||(Sb(),Ub=!0);cb.add(a,b)}var Sb;function Tb(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve(void 0);Sb=function(){a.then(Vb)}}else Sb=function(){var b=Vb;"function"!==typeof m.setImmediate||m.Window&&m.Window.prototype&&!J("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(Ob||(Ob=Pb()),Ob(b)):m.setImmediate(b)}}var Ub=!1,cb=new $a;function Vb(){for(var a;a=bb();){try{a.h.call(a.g)}catch(b){Qb(b)}cb.i(a)}Ub=!1};function N(a,b){this.g=O;this.o=void 0;this.j=this.h=this.i=null;this.l=this.m=!1;if(a!=v)try{var c=this;a.call(b,function(d){P(c,Wb,d)},function(d){if(!(d instanceof Q))try{if(d instanceof Error)throw d;throw Error("Promise rejected.");}catch(e){}P(c,R,d)})}catch(d){P(this,R,d)}}var O=0,Wb=2,R=3;function Xb(){this.next=this.i=this.h=this.l=this.g=null;this.j=!1}Xb.prototype.reset=function(){this.i=this.h=this.l=this.g=null;this.j=!1};var Yb=new Ya(function(){return new Xb},function(a){a.reset()});
function Zb(a,b,c){var d=Yb.get();d.l=a;d.h=b;d.i=c;return d}function $b(a){if(a instanceof N)return a;var b=new N(v);P(b,Wb,a);return b}N.prototype.then=function(a,b,c){return ac(this,"function"===typeof a?a:null,"function"===typeof b?b:null,c)};Ua(N);k=N.prototype;k.thenVoid=function(a,b,c){bc(this,Zb(a||v,b||null,c))};k.thenAlways=function(a,b){a=Zb(a,a,b);a.j=!0;bc(this,a);return this};k.thenCatch=function(a,b){return ac(this,null,a,b)};
k.cancel=function(a){if(this.g==O){var b=new Q(a);Rb(function(){cc(this,b)},this)}};function cc(a,b){if(a.g==O)if(a.i){var c=a.i;if(c.h){for(var d=0,e=null,f=null,l=c.h;l&&(l.j||(d++,l.g==a&&(e=l),!(e&&1<d)));l=l.next)e||(f=l);e&&(c.g==O&&1==d?cc(c,b):(f?(d=f,d.next==c.j&&(c.j=d),d.next=d.next.next):dc(c),ec(c,e,R,b)))}a.i=null}else P(a,R,b)}function bc(a,b){a.h||a.g!=Wb&&a.g!=R||fc(a);a.j?a.j.next=b:a.h=b;a.j=b}
function ac(a,b,c,d){var e=Zb(null,null,null);e.g=new N(function(f,l){e.l=b?function(n){try{var p=b.call(d,n);f(p)}catch(q){l(q)}}:f;e.h=c?function(n){try{var p=c.call(d,n);void 0===p&&n instanceof Q?l(n):f(p)}catch(q){l(q)}}:l});e.g.i=a;bc(a,e);return e.g}k.ka=function(a){this.g=O;P(this,Wb,a)};k.la=function(a){this.g=O;P(this,R,a)};
function P(a,b,c){if(a.g==O){a===c&&(b=R,c=new TypeError("Promise cannot resolve to itself"));a.g=1;a:{var d=c,e=a.ka,f=a.la;if(d instanceof N){d.thenVoid(e,f,a);var l=!0}else if(Va(d))d.then(e,f,a),l=!0;else{if(x(d))try{var n=d.then;if("function"===typeof n){gc(d,n,e,f,a);l=!0;break a}}catch(p){f.call(a,p);l=!0;break a}l=!1}}l||(a.o=c,a.g=b,a.i=null,fc(a),b!=R||c instanceof Q||hc(a,c))}}
function gc(a,b,c,d,e){function f(p){n||(n=!0,d.call(e,p))}function l(p){n||(n=!0,c.call(e,p))}var n=!1;try{b.call(a,l,f)}catch(p){f(p)}}function fc(a){a.m||(a.m=!0,Rb(a.da,a))}function dc(a){var b=null;a.h&&(b=a.h,a.h=b.next,b.next=null);a.h||(a.j=null);return b}k.da=function(){for(var a;a=dc(this);)ec(this,a,this.g,this.o);this.m=!1};
function ec(a,b,c,d){if(c==R&&b.h&&!b.j)for(;a&&a.l;a=a.i)a.l=!1;if(b.g)b.g.i=null,ic(b,c,d);else try{b.j?b.l.call(b.i):ic(b,c,d)}catch(e){jc.call(null,e)}Za(Yb,b)}function ic(a,b,c){b==Wb?a.l.call(a.i,c):a.h&&a.h.call(a.i,c)}k.sa=function(){};function hc(a,b){a.l=!0;Rb(function(){a.l&&jc.call(null,b)})}var jc=Qb;function Q(a){H.call(this,a);this.g=!1}A(Q,H);Q.prototype.name="cancel";function kc(a){a&&"function"==typeof a.dispose&&a.dispose()};function S(){0!=lc&&(mc[ya(this)]=this);this.H=this.H;this.h=this.h}var lc=0,mc={};k=S.prototype;k.H=!1;k.isDisposed=function(){return this.H};k.getDisposed=S.prototype.isDisposed;k.dispose=function(){if(!this.H&&(this.H=!0,this.disposeInternal(),0!=lc)){var a=ya(this);if(0!=lc&&this.h&&0<this.h.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete mc[a]}};
k.registerDisposable=function(a){this.addOnDisposeCallback(Da(kc,a))};k.addOnDisposeCallback=function(a,b){this.H?void 0!==b?a.call(b):a():(this.h||(this.h=[]),this.h.push(void 0!==b?z(a,b):a))};k.disposeInternal=function(){if(this.h)for(;this.h.length;)this.h.shift()()};function nc(a){function b(f,l){function n(t){return t.replace(/\n/g,"\n"+l)}var p=l+"  ";try{if(void 0===f)c.push("undefined");else if(null===f)c.push("NULL");else if("string"===typeof f)c.push('"'+n(f)+'"');else if("function"===typeof f)c.push(n(String(f)));else if(x(f)){f[y]||d.push(f);var q=ya(f);if(e[q])c.push("*** reference loop detected (id="+q+") ***");else{e[q]=!0;c.push("{");for(var w in f)"function"!==typeof f[w]&&(c.push("\n"),c.push(p),c.push(w+" = "),b(f[w],p));c.push("\n"+l+"}");delete e[q]}}else c.push(f)}catch(t){c.push("*** "+
t+" ***")}}var c=[],d=[],e={};b(a,"");for(a=0;a<d.length;a++)Aa(d[a]);return c.join("")}var oc=Object.freeze||function(a){return a};function pc(a){return function(){return oc(a)}()};Hb&&M("1.9b")||L&&M("8")||Fb&&M("9.5")||Ib&&M("528");var qc=function(a){return{valueOf:a}.valueOf()}(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{m.addEventListener("test",v,b),m.removeEventListener("test",v,b)}catch(c){}return a});function T(a,b){this.type=a;this.h=this.target=b;this.defaultPrevented=this.j=!1}T.prototype.i=function(){return this.j};T.prototype.P=function(){this.j=!0};T.prototype.L=function(){this.defaultPrevented=!0};function U(a,b){T.call(this,a?a.type:"");this.relatedTarget=this.h=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.l=!1;this.pointerId=0;this.pointerType="";this.g=null;a&&this.init(a,b)}A(U,T);pc([1,4,2]);var rc=pc({2:"touch",3:"pen",4:"mouse"});k=U.prototype;
k.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.h=b;var e=a.relatedTarget;if(e){if(Hb){a:{try{Cb(e.nodeName);var f=!0;break a}catch(l){}f=!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):
(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.l=Jb?a.metaKey:a.ctrlKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:rc[a.pointerType]||"";this.state=a.state;this.g=a;a.defaultPrevented&&U.D.L.call(this)};
k.isButton=function(a){return this.g.button==a};k.isMouseActionButton=function(){return this.isButton(0)&&!(Jb&&this.ctrlKey)};k.P=function(){U.D.P.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};k.L=function(){U.D.L.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};k.getBrowserEvent=function(){return this.g};var sc="closure_listenable_"+(1E6*Math.random()|0);var tc=0;function uc(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++tc;this.removed=this.callOnce=!1}uc.prototype.g=function(){this.removed=!0;this.handler=this.src=this.proxy=this.listener=null};function vc(a){this.src=a;this.g={};this.h=0}k=vc.prototype;k.getTypeCount=function(){return this.h};k.getListenerCount=function(){var a=0,b;for(b in this.g)a+=this.g[b].length;return a};k.add=function(a,b,c,d,e){var f=a.toString(),l=this.g[f];l||(l=this.g[f]=[],this.h++);a=wc(l,b,d,e);if(-1<a){var n=l[a];c||(n.callOnce=!1)}else n=new uc(b,this.src,f,!!d,e),n.callOnce=c,l.push(n);return n};
k.removeByKey=function(a){var b=a.type;if(!(b in this.g))return!1;var c=this.g[b],d=eb(c,a),e;(e=0<=d)&&Array.prototype.splice.call(c,d,1);e&&(a.g(),0==this.g[b].length&&(delete this.g[b],this.h--));return e};k.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],e=0;e<d.length;e++)++b,d[e].g();delete this.g[c];this.h--}return b};function xc(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=wc(a,c,d,e));return-1<b?a[b]:null}
function yc(a,b,c){var d=void 0!==b,e=d?b.toString():"",f=void 0!==c;return ob(a.g,function(l){for(var n=0;n<l.length;++n)if(!(d&&l[n].type!=e||f&&l[n].capture!=c))return!0;return!1})}function wc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var zc="closure_lm_"+(1E6*Math.random()|0),Ac={},Bc=0;function Cc(a,b,c,d,e){if(d&&d.once)return Dc(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)Cc(a,b[f],c,d,e);return null}c=Ec(c);return a&&a[sc]?(d=x(d)?!!d.capture:!!d,a.listen(b,c,d,e)):Fc(a,b,c,!1,d,e)}
function Fc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var l=x(e)?!!e.capture:!!e,n=Gc(a);n||(a[zc]=n=new vc(a));c=n.add(b,c,d,l,f);if(c.proxy)return c;d=Hc();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)qc||(e=l),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Ic(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Bc++;return c}
function Hc(){function a(c){return b.call(a.src,a.listener,c)}var b=Jc;return a}function Dc(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)Dc(a,b[f],c,d,e);return null}c=Ec(c);return a&&a[sc]?(d=x(d)?!!d.capture:!!d,a.listenOnce(b,c,d,e)):Fc(a,b,c,!0,d,e)}function Kc(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)Kc(a,b[f],c,d,e);else d=x(d)?!!d.capture:!!d,c=Ec(c),a&&a[sc]?a.unlisten(b,c,d,e):a&&(a=Gc(a))&&(b=xc(a,b,c,d,e))&&Lc(b)}
function Lc(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[sc])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Ic(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Bc--;(c=Gc(b))?(c.removeByKey(a),0==c.getTypeCount()&&(c.src=null,b[zc]=null)):a.g()}}}function Ic(a){return a in Ac?Ac[a]:Ac[a]="on"+a}
function Jc(a,b){if(a.removed)a=!0;else{var c=new U(b,this),d=a.listener,e=a.handler||a.src;a.callOnce&&Lc(a);a=d.call(e,c)}return a}function Gc(a){a=a[zc];return a instanceof vc?a:null}var Mc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ec(a){if("function"===typeof a)return a;a[Mc]||(a[Mc]=function(b){return a.handleEvent(b)});return a[Mc]};function V(){S.call(this);this.g=new vc(this);this.m=this;this.l=null}A(V,S);(function(a){a.prototype[sc]=!0})(V);k=V.prototype;k.getParentEventTarget=function(){return this.l};k.setParentEventTarget=function(a){this.l=a};k.ma=function(a,b,c,d){Cc(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Kc(this,a,b,c,d)};k.disposeInternal=function(){V.D.disposeInternal.call(this);this.removeAllListeners();this.l=null};k.listen=function(a,b,c,d){return this.g.add(String(a),b,!1,c,d)};
k.listenOnce=function(a,b,c,d){return this.g.add(String(a),b,!0,c,d)};k.unlisten=function(a,b,c,d){var e=this.g;a=String(a).toString();if(a in e.g){var f=e.g[a];b=wc(f,b,c,d);-1<b?(f[b].g(),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.g[a],e.h--),e=!0):e=!1}else e=!1;return e};k.unlistenByKey=function(a){return this.g.removeByKey(a)};k.removeAllListeners=function(a){return this.g?this.g.removeAll(a):0};
k.fireListeners=function(a,b,c){a=this.g.g[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var f=a[e];if(f&&!f.removed&&f.capture==b){var l=f.listener,n=f.handler||f.src;f.callOnce&&this.unlistenByKey(f);d=!1!==l.call(n,c)&&d}}return d&&!c.defaultPrevented};k.qa=function(a,b){a=this.g.g[String(a).toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};k.pa=function(a,b,c,d){return xc(this.g,String(a),b,c,d)};
k.ra=function(a,b){return yc(this.g,void 0!==a?String(a):void 0,b)};k.ta=function(a){this.m=a};function Nc(a,b){V.call(this);this.i=a||1;this.j=b||m;this.o=z(this.ja,this);this.s=Date.now()}A(Nc,V);k=Nc.prototype;k.I=!1;k.C=null;k.getInterval=function(){return this.i};k.na=function(a){this.i=a;this.C&&this.I?(Oc(this),this.start()):this.C&&Oc(this)};k.ja=function(){if(this.I){var a=Date.now()-this.s;0<a&&a<.8*this.i?this.C=this.j.setTimeout(this.o,this.i-a):(this.C&&(this.j.clearTimeout(this.C),this.C=null),this.dispatchTick(),this.I&&(Oc(this),this.start()))}};
k.dispatchTick=function(){var a,b=this.getParentEventTarget();if(b)for(a=[];b;b=b.getParentEventTarget())a.push(b);b=this.m;var c="tick",d=c.type||c;if("string"===typeof c)c=new T(c,b);else if(c instanceof T)c.target=c.target||b;else{var e=c;c=new T(d,b);qb(c,e)}e=!0;if(a)for(var f=a.length-1;!c.i()&&0<=f;f--){var l=c.h=a[f];e=l.fireListeners(d,!0,c)&&e}c.i()||(l=c.h=b,e=l.fireListeners(d,!0,c)&&e,c.i()||(e=l.fireListeners(d,!1,c)&&e));if(a)for(f=0;!c.i()&&f<a.length;f++)l=c.h=a[f],e=l.fireListeners(d,
!1,c)&&e};k.start=function(){this.I=!0;this.C||(this.C=this.j.setTimeout(this.o,this.i),this.s=Date.now())};function Oc(a){a.I=!1;a.C&&(a.j.clearTimeout(a.C),a.C=null)}k.disposeInternal=function(){Nc.D.disposeInternal.call(this);Oc(this);delete this.j};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function W(a,b){this.l=[];this.A=a;this.u=b||null;this.i=this.v=!1;this.h=void 0;this.s=this.B=this.o=!1;this.m=0;this.g=null;this.j=0}k=W.prototype;k.cancel=function(a){if(this.hasFired())this.h instanceof W&&this.h.cancel();else{if(this.g){var b=this.g;delete this.g;a?b.cancel(a):(b.j--,0>=b.j&&b.cancel())}this.A?this.A.call(this.u,this):this.s=!0;this.hasFired()||this.errback(new Pc(this))}};k.U=function(a,b){this.o=!1;Qc(this,a,b)};function Qc(a,b,c){a.v=!0;a.h=c;a.i=!b;Rc(a)}
function Sc(a){if(a.hasFired()){if(!a.s)throw new Tc(a);a.s=!1}}k.callback=function(a){Sc(this);Qc(this,!0,a)};k.errback=function(a){Sc(this);Qc(this,!1,a)};k.addCallback=function(a,b){return this.addCallbacks(a,null,b)};k.addErrback=function(a,b){return this.addCallbacks(null,a,b)};k.addBoth=function(a,b){return this.addCallbacks(a,a,b)};k.addFinally=function(a,b){return this.addCallbacks(a,function(c){var d=a.call(this,c);if(void 0===d)throw c;return d},b)};
k.addCallbacks=function(a,b,c){this.l.push([a,b,c]);this.hasFired()&&Rc(this);return this};k.then=function(a,b,c){var d,e,f=new N(function(l,n){d=l;e=n});this.addCallbacks(d,function(l){l instanceof Pc?f.cancel():e(l)});return f.then(a,b,c)};Ua(W);k=W.prototype;k.chainDeferred=function(a){this.addCallbacks(a.callback,a.errback,a);return this};k.awaitDeferred=function(a){return a instanceof W?this.addCallback(z(a.branch,a)):this.addCallback(function(){return a})};
k.branch=function(a){var b=new W;this.chainDeferred(b);a&&(b.g=this,this.j++);return b};k.hasFired=function(){return this.v};k.isError=function(a){return a instanceof Error};function Uc(a){return gb(a.l,function(b){return"function"===typeof b[1]})}k.getLastValueForMigration=function(){return this.hasFired()&&!this.i?this.h:void 0};
function Rc(a){if(a.m&&a.hasFired()&&Uc(a)){var b=a.m,c=Vc[b];c&&(c.i(),delete Vc[b]);a.m=0}a.g&&(a.g.j--,delete a.g);b=a.h;for(var d=!1,e=!1;a.l.length&&!a.o;){var f=a.l.shift(),l=f[0],n=f[1];c=f[2];if(l=a.i?n:l)try{var p=l.call(c||a.u,b);void 0!==p&&(a.i=a.i&&(p==b||a.isError(p)),a.h=b=p);if(Va(b)||"function"===typeof m.Promise&&b instanceof m.Promise)e=!0,a.o=!0}catch(t){b=t,a.i=!0,Uc(a)||(d=!0)}}a.h=b;if(e){var q=z(a.U,a,!0),w=z(a.U,a,!1);b instanceof W?(b.addCallbacks(q,w),b.B=!0):b.then(q,w)}d&&
(p=new Wc(b),Vc[p.g]=p,a.m=p.g)}function Xc(){var a=Error("Invalid origin"),b=new W;b.errback(a);return b}function Tc(){H.call(this)}A(Tc,H);Tc.prototype.message="Deferred has already fired";Tc.prototype.name="AlreadyCalledError";function Pc(){H.call(this)}A(Pc,H);Pc.prototype.message="Deferred was canceled";Pc.prototype.name="CanceledError";function Wc(a){this.g=m.setTimeout(z(this.j,this),0);this.h=a}Wc.prototype.j=function(){delete Vc[this.g];throw this.h;};Wc.prototype.i=function(){m.clearTimeout(this.g)};
var Vc={};function Yc(a){return(new Zc).h(a)}function Zc(){}Zc.prototype.h=function(a){var b=[];this.g(a,b);return b.join("")};
Zc.prototype.g=function(a,b){if(null==a)b.push("null");else{if("object"==typeof a){if(Array.isArray(a)){this.i(a,b);return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{b.push("{");var c="";for(e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var d=a[e];"function"!=typeof d&&(b.push(c),$c(e,b),b.push(":"),this.g(d,b),c=",")}b.push("}");return}}switch(typeof a){case "string":$c(a,b);break;case "number":var e=a;b.push(isFinite(e)&&!isNaN(e)?String(e):"null");
break;case "boolean":b.push(String(a));break;case "function":b.push("null");break;default:throw Error("Unknown type: "+typeof a);}}};var ad={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},bd=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function $c(a,b){b.push('"',a.replace(bd,function(c){var d=ad[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),ad[c]=d);return d}),'"')}
Zc.prototype.i=function(a,b){var c=a.length;b.push("[");for(var d="",e=0;e<c;e++)b.push(d),this.g(a[e],b),d=",";b.push("]")};function X(a,b){this.name=a;this.value=b}X.prototype.toString=function(){return this.name};var cd=new X("OFF",Infinity);new X("SHOUT",1200);new X("SEVERE",1E3);var dd=new X("WARNING",900);new X("INFO",800);var ed=new X("CONFIG",700);new X("FINE",500);new X("FINER",400);new X("FINEST",300);new X("ALL",0);function fd(){this.h=[];this.i=-1;this.g=!1}var gd;
fd.prototype.j=function(a,b,c){if(!this.l())return new hd(a,b,c);var d=(this.i+1)%0;this.i=d;if(this.g){var e=this.h[d];e.reset(a,b,c);return e}this.g=-1==d;return this.h[d]=new hd(a,b,c)};fd.prototype.m=function(a){var b=this.h;if(b[0]){var c=this.i,d=this.g?c:-1;do d=(d+1)%0,a(b[d]);while(d!==c)}};fd.prototype.l=function(){return!1};fd.prototype.o=function(){return this.g};function hd(a,b,c){this.g=null;this.reset(a||cd,b,c,void 0,void 0)}k=hd.prototype;
k.reset=function(a,b,c,d,e){this.l=d||Date.now();this.h=a;this.j=b;this.i=c;this.g=null;this.m="number"===typeof e?e:id};k.getLoggerName=function(){return this.i};k.setLoggerName=function(a){this.i=a};k.getException=function(){return this.g};k.setException=function(a){this.g=a};k.getLevel=function(){return this.h};k.setLevel=function(a){this.h=a};k.getMessage=function(){return this.j};k.setMessage=function(a){this.j=a};k.getMillis=function(){return this.l};k.setMillis=function(a){this.l=a};
k.getSequenceNumber=function(){return this.m};var id=0;function jd(a,b){this.g=null;this.m=[];this.h=(void 0===b?null:b)||null;this.l=[];this.i={g:function(){return a}}}jd.prototype.j=function(){if(this.g)return this.g;if(this.h)return this.h.j();Xa("Root logger has no level set.");return cd};jd.prototype.o=function(a){for(var b=this;b;)b.m.forEach(function(c){c(a)}),b=b.h};function kd(){this.entries={};var a=new jd("");a.g=ed;this.entries[""]=a}var ld;
kd.prototype.g=function(a,b){var c=this.entries[a];if(c)return void 0!==b&&(c.g=b),c;var d=a.lastIndexOf("."),e=a.substr(0,d),f=this.g(e),l=new jd(a,f);this.entries[a]=l;f.l.push(l);void 0!==b&&(l.g=b);return l};kd.prototype.h=function(){var a=this;return Object.keys(this.entries).map(function(b){return a.entries[b].i})};function md(){ld||(ld=new kd);return ld}function nd(a){return md().g(a,void 0).i}
function Y(a,b){if(a){var c=dd,d;if(d=a)if(d=a&&c){d=c.value;var e=a?md().g(a.g()).j():cd;d=d>=e.value}d&&(c=c||cd,d=md().g(a.g()),"function"===typeof b&&(b=b()),gd||(gd=new fd),a=gd.j(c,b,a.g()),d.o(a))}};function od(){S.call(this);this.j={}}A(od,S);k=od.prototype;k.J=nd("goog.messaging.AbstractChannel");k.R=function(a){a&&a()};k.S=function(){return!0};k.F=function(a,b,c){this.j[a]={callback:b,objectPayload:!!c}};k.registerDefaultService=function(a){this.i=a};k.deliver=function(a,b){var c=this.getService(a,b);if(c){var d=this.decodePayload(a,b,c.objectPayload);null!=d&&c.callback(d)}};
k.getService=function(a,b){var c=this.j[a];if(c)return c;if(this.i){a=Da(this.i,a);var d=x(b);return{callback:a,objectPayload:d}}Y(this.J,'Unknown service name "'+a+'"');return null};k.decodePayload=function(a,b,c){if(c&&"string"===typeof b)try{return JSON.parse(b)}catch(d){return Y(this.J,"Expected JSON payload for "+a+', was "'+b+'"'),null}else if(!c&&"string"!==typeof b)return Yc(b);return b};k.disposeInternal=function(){od.D.disposeInternal.call(this);delete this.j;delete this.i};function pd(a){S.call(this);this.g=a}A(pd,S);k=pd.prototype;k.cancel=function(){this.g.cancel()};k.R=function(a){a&&a()};k.S=function(){return!0};k.F=function(a,b,c){this.g.addCallback(function(d){d.F(a,b,c)})};k.registerDefaultService=function(a){this.g.addCallback(function(b){b.registerDefaultService(a)})};k.G=function(a,b){this.g.addCallback(function(c){c.G(a,b)})};k.disposeInternal=function(){this.cancel();pd.D.disposeInternal.call(this)};function qd(a){od.call(this);this.g=a;this.l=Cc(this.g,"message",this.ca,!1,this)}A(qd,od);function rd(a,b){if("*"==b)return new pd(Xc());var c=new Nc(50),d=Da(kc,c),e=new W(d);e.addBoth(d);c.start();Cc(c,"tick",function(){function f(){l.port1.removeEventListener("message",f,!0);c.isDisposed()||e.callback(new qd(l.port1))}var l=new MessageChannel;l.port1.start();l.port1.addEventListener("message",f,!0);var n={};n[sd]=!0;a.postMessage(n,b,[l.port2])});return new pd(e)}
var sd="--goog.messaging.PortChannel",td=Ib&&0>ib("533");k=qd.prototype;k.J=nd("goog.messaging.PortChannel");k.G=function(a,b){var c=[];b=this.M(c,b);a={serviceName:a,payload:b};a[sd]=!0;td&&(a=Yc(a));this.g.postMessage(a,c)};
k.ca=function(a){a=a.getBrowserEvent();var b=a.data;if(td)try{b=JSON.parse(b)}catch(e){return}var c;if(c=x(b)&&b[sd])c=b,"serviceName"in c?"payload"in c?c=!0:(Y(this.J,"Message object doesn't contain payload: "+nc(c)),c=!1):(Y(this.J,"Message object doesn't contain service name: "+nc(c)),c=!1);if(c){c=b.serviceName;b=b.payload;var d=this.getService(c,b);d&&(b=this.decodePayload(c,this.N(a.ports||[],b),d.objectPayload),null!=b&&d.callback(b))}};
k.M=function(a,b){return b&&"[object MessagePort]"==Object.prototype.toString.call(b)?(a.push(b),{_port:{type:"real",index:a.length-1}}):Array.isArray(b)?fb(b,z(this.M,this,a)):b&&b.constructor==Object?nb(b,function(c,d){c=this.M(a,c);return"_port"==d?{type:"escaped",val:c}:c},this):b};k.N=function(a,b){return Array.isArray(b)?fb(b,z(this.N,this,a)):b&&b.constructor==Object?b._port&&"real"==b._port.type?a[b._port.index]:nb(b,function(c,d){return this.N(a,"_port"==d?c.val:c)},this):b};
k.disposeInternal=function(){Lc(this.l);"[object MessagePort]"==Object.prototype.toString.call(this.g)?this.g.close():"[object Worker]"==Object.prototype.toString.call(this.g)&&this.g.terminate();delete this.g;qd.D.disposeInternal.call(this)};function Z(a){S.call(this);this.i=a;this.g={};this.i.registerDefaultService(z(this.m,this))}A(Z,S);Z.prototype.j=nd("goog.messaging.MultiChannel");Z.prototype.l=function(a){if(-1!=a.indexOf(":"))throw Error('Virtual channel name "'+a+'" should not contain colons');if(a in this.g)throw Error('Virtual channel "'+a+'" was already created for this multichannel.');var b=new ud(this,a);return this.g[a]=b};
Z.prototype.m=function(a,b){var c=a.match(/^([^:]*):(.*)/);if(c){var d=c[1];a=c[2];if(d in this.g){var e=this.g[d];e?e.j?e.j(a,b):Y(this.j,'Service "'+a+'" is not registered on virtual channel "'+d+'"'):Y(this.j,'Virtual channel "'+d+' has been disposed, but a message was received for it: "'+a+'"')}else Y(this.j,'Virtual channel "'+d+' does not exist, but a message was received for it: "'+a+'"')}else Y(this.j,'Invalid service name "'+a+'": no virtual channel specified')};
Z.prototype.disposeInternal=function(){mb(this.g,function(a){kc(a)});kc(this.i);delete this.g;delete this.i};function ud(a,b){S.call(this);this.g=a;this.i=b}A(ud,S);k=ud.prototype;k.Y=nd("goog.messaging.MultiChannel.VirtualChannel");k.R=function(a){a&&a()};k.S=function(){return!0};k.F=function(a,b,c){this.g.i.F(this.i+":"+a,z(this.V,this,b),c)};k.registerDefaultService=function(a){this.j=z(this.V,this,a)};
k.G=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.g.i.G(this.i+":"+a,b)};k.V=function(a,b){this.isDisposed()?Y(this.Y,'Virtual channel "'+this.i+'" received  a message after being disposed.'):a.apply({},Array.prototype.slice.call(arguments,1))};k.disposeInternal=function(){this.g=this.g.g[this.i]=null};function vd(a){S.call(this);this.g=new Z(a);this.j={};this.i=this.g.l("private");this.l=this.g.l("public");this.i.F("mics",z(this.aa,this),!0)}A(vd,S);k=vd.prototype;k.ga=0;k.Z=nd("goog.messaging.RespondingChannel");k.disposeInternal=function(){kc(this.g);delete this.g;delete this.l;delete this.i};k.oa=function(a,b,c){var d=this.ga++;this.j[d]=c;c={};c.signature=d;c.data=b;this.l.G(a,c)};k.aa=function(a){var b=a.signature;a=a.data;b in this.j?((0,this.j[b])(a),delete this.j[b]):Y(this.Z,"Received signature is invalid")};
k.$=function(a,b){a=a(b.data);var c=b.signature;$b(a).then(z(function(d){var e={};e.data=d;e.signature=c;this.i&&this.i.G("mics",e)},this))};function createRC(a,b,c){var d=rd(a,b),e=new vd(d);c.keys().forEach(function(f){if(null!=f&&null!=c.get(f)){var l=c.get(f);e.l.F(f,z(e.$,e,l),!0)}});return e}(function(a,b,c){var d=a.split(".");c=c||m;d[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+d[0]);for(var e;d.length&&(e=d.shift());)d.length||void 0===b?c[e]&&c[e]!==Object.prototype[e]?c=c[e]:c=c[e]={}:c[e]=b})("createRC",createRC);;
  export function createRespondingChannel(window, origin, serviceHandlersMap) {
    const rc = createRC(window, origin, serviceHandlersMap);
    return rc;
  }
